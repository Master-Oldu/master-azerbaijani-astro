---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

import { getCollection } from 'astro:content';

// Fetch and sort blog posts by newest first
const posts = (await getCollection('blog'))
  .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate))
  .slice(0, 6);
---

<BaseHead 
  title="Master Azerbaijani - Home"
  description="Learn Azerbaijani the smart way with daily bite-sized lessons, real native pronunciation, and practical phrases you can use instantly. Perfect for beginners, families, and heritage learners."
/>

<Header />

<main class="page-container">

  <!-- HERO -->
  <div class="hero">
    <h1>Master Azerbaijani</h1>
    <p>Learn Azerbaijani from a diaspora native! Fun, bite-sized lessons for English speakers.</p>
    <p>
      Master it like a pro! Bridge generations in your family, embrace your heritage,
      and explore a language that opens doors; whether at home, with loved ones, or on your travels.
    </p>
  </div>

  <!-- LATEST POSTS -->
  <div class="latest-posts">
    <h2>Latest Posts</h2>

    <div class="post-grid">
      {
        posts.map((post) => (
          <div class="post-card">
            <a href={`/blog/${post.id}`}>
              {post.data.title}
            </a>
          </div>
        ))
      }
    </div>
  </div>

  <!-- WORD OF THE DAY -->
  <div class="word-of-day">
    <h2>Word of the Day</h2>
    <p>Coming soon: snackable vocabulary lessons to get you speaking Azerbaijani fast!</p>

    <div class="social-icons">

      <!-- Instagram -->
      <a 
        href="https://www.instagram.com/masterazerbaijani/" 
        target="_blank" 
        class="icon-card"
        aria-label="Instagram"
      >
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
          alt="Instagram"
        />
      </a>

      <!-- YouTube -->
      <a 
        href="https://www.youtube.com/@MasterAzerbaijani"
        target="_blank" 
        class="icon-card"
        aria-label="YouTube"
      >
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png"
          alt="YouTube"
        />
      </a>

      <!-- TikTok -->
      <a
        href="https://www.tiktok.com/@masterazerbaijani"
        target="_blank" 
        class="icon-card"
        aria-label="TikTok"
      >
        <img src="/images/tiktok.svg" alt="TikTok" />
      </a>

      <!-- Facebook -->
      <a
        href="https://www.facebook.com/profile.php?id=61583629125594"
        target="_blank"
        class="icon-card"
        aria-label="Facebook"
      >
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png"
          alt="Facebook"
        />
      </a>

    </div>
  </div>

  <!-- CONTACT -->
  <div class="contact">
    Questions? Ideas? Just want to chat?<br />
    <a href="mailto:hello@masterazerbaijani.com">hello@masterazerbaijani.com</a>
  </div>
</main>

<Footer />
