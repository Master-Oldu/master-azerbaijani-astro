---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

import { getCollection } from 'astro:content';

// Fetch and sort blog posts by newest first
const posts = (await getCollection('blog'))
  .filter((post) => new Date(post.data.pubDate) <= new Date())
  .sort((a, b) => new Date(b.data.pubDate) - new Date(a.data.pubDate))
  .slice(0, 6);
---

<BaseHead 
  title="Master Azerbaijani - Home"
  description="Learn Azerbaijani the smart way with daily bite-sized lessons, real native pronunciation, and practical phrases you can use instantly. Perfect for beginners, families, and heritage learners."
/>

<Header />

<main class="page-container">

  <!-- HERO -->
  <div class="hero">
    <h1>Master Azerbaijani</h1>

    <p>
      Master Azerbaijani is a modern, native-built language-learning platform focused on
      clear, practical Azerbaijani that people actually use in real life. Every lesson,
      example, and pronunciation is created by a native speaker with deep diaspora insight.
    </p>

    <p>
      Our mission is simple: help families connect, help heritage learners reclaim their
      language, and give beginners a fast, confident start with everyday Azerbaijani.
    </p>

    <p>
      Learn real Azerbaijani from a diaspora native. Fast, focused lessons designed for
      English speakers who want practical language they can use immediately.
    </p>

    <p>
      Master it like a pro! Bridge generations in your family, reconnect with your roots,
      and speak a language that opens doors at home, with loved ones, and wherever life
      takes you.
    </p>
  </div>

  <!-- LATEST POSTS -->
  <div class="latest-posts">
    <h2>Latest Posts</h2>

    <div class="post-grid">
      {
        posts.map((post) => (
          <a class="post-card" href={`/blog/${post.slug}`}>
            <div class="post-image">
              <img src={post.data.coverImage} alt={post.data.coverImageAlt} />
            </div>

            <div class="post-info">
              <h3>{post.data.title}</h3>

              <p class="post-date">
                {new Date(post.data.pubDate).toLocaleDateString("en-US", {
                  month: "short",
                  day: "numeric",
                  year: "numeric"
                })}
              </p>

              <p class="post-excerpt">
                {post.data.description}
              </p>
            </div>
          </a>
        ))
      }
    </div>
  </div>

<div class="word-of-day">
  <h2>Word of the Day</h2>

  <p class="wotd-text">
    New words are posted every day across all platforms. Learn pronunciation, meaning,
    and real example sentences in under 3 minutes.
  </p>

  <p class="wotd-cta">
    Follow Master Azerbaijani on your favorite platform!
  </p>

  <div class="social-icons">
    <a 
      href="https://www.instagram.com/masterazerbaijani/" 
      target="_blank" 
      class="icon-card"
      aria-label="Instagram"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
        alt="Instagram"
      />
    </a>

    <a 
      href="https://www.youtube.com/@MasterAzerbaijani"
      target="_blank" 
      class="icon-card"
      aria-label="YouTube"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png"
        alt="YouTube"
      />
    </a>

    <a
      href="https://www.tiktok.com/@masterazerbaijani"
      target="_blank" 
      class="icon-card"
      aria-label="TikTok"
    >
      <img src="/images/tiktok.svg" alt="TikTok" />
    </a>

    <a
      href="https://www.facebook.com/profile.php?id=61583629125594"
      target="_blank"
      class="icon-card"
      aria-label="Facebook"
    >
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png"
        alt="Facebook"
      />
    </a>
  </div>
</div>

  <!-- CONTACT -->
  <div class="contact">
    Questions? Ideas? Just want to chat?<br />
    <a href="mailto:hello@masterazerbaijani.com">hello@masterazerbaijani.com</a>
  </div>
</main>

<Footer />
